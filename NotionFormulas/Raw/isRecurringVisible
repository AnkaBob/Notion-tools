and( and(  !prop("Settings").contains("Deactivated"),  or( and( prop("Configuration database").first().prop("Work"), prop("Settings").contains("Work") ), and( !prop("Configuration database").first().prop("Work"), !prop("Settings").contains("Work") ) ),   or( !prop("Weekday only"), !contains("Saturday,Sunday",formatDate(now(),"dddd")) ), or( !prop("Weekend only"), contains("Saturday,Sunday",formatDate(now(),"dddd")) ),    or( empty(prop("Starting day of the month")), prop("Starting day of the month")<=date(now()) ), or( empty(prop("Ending day of the month")), prop("Ending day of the month")>=date(now()) ),   or( empty(prop("Starting hour")), prop("Starting hour")<=hour(now()) ), or( empty(prop("Ending hour")), prop("Ending hour")>=hour(now()) ),   or( empty(prop("Day of the week (only)")), prop("Day of the week (only)")==formatDate(now(),"dddd") ) ) ,  and(  or( empty(prop("Months intervals")), prop("Months intervals")<=dateBetween(now(), if( empty(prop("Last done time")), parseDate("2000-01-01"), prop("Last done time") ) ,"months") ), or( empty(prop("Days intervals")), prop("Days intervals")<= if( empty(prop("Last done time")), 999999, (dateBetween( dateSubtract( dateSubtract( dateSubtract( now(), hour(now())-5, "hours" ), minute(now()), "minutes" ), if(hour(now())<5,1,0), "days" ) , prop("Last done time"), "minutes" )/(24*60))+1 ) ), or( empty(prop("Hours intervals")), prop("Hours intervals")<=dateBetween(now(), if( empty(prop("Last done time")), parseDate("2000-01-01"), prop("Last done time") ) ,"hours") ) ) )