and( and(  !prop("Settings").contains("Deactivated"),  or( and( prop("Configuration database").first().prop("Work"), prop("Settings").contains("Work") ), and( !prop("Configuration database").first().prop("Work"), !prop("Settings").contains("Work") ) ),   or( !prop("Weekday only"), !contains("Saturday,Sunday",formatDate(prop("Configuration database").first().prop("Current day start"),"dddd")) ), or( !prop("Weekend only"), contains("Saturday,Sunday",formatDate(prop("Configuration database").first().prop("Current day start"),"dddd")) ),    or( empty(prop("Starting day of the month")), prop("Starting day of the month")<=date(prop("Configuration database").first().prop("Current day start")) ), or( empty(prop("Ending day of the month")), prop("Ending day of the month")>=date(prop("Configuration database").first().prop("Current day start")) ),   or( empty(prop("Starting hour")), prop("Starting hour")<=hour(now()) ), or( empty(prop("Ending hour")), prop("Ending hour")>=hour(now()) ),   or( empty(prop("Day of the week (only)")), prop("Day of the week (only)")==formatDate(prop("Configuration database").first().prop("Current day start"),"dddd") ) ) , and(  or( empty(prop("Months intervals")), prop("Months intervals")<=dateBetween(now(), if( empty(prop("Last done time")), parseDate("2000-01-01"), prop("Last done time") ) ,"months") ), or( empty(prop("Days intervals")), prop("Days intervals")<= if( empty(prop("Last done time")), 999999, (dateBetween( prop("Configuration database").first().prop("Current day start"), prop("Last done time"), "minutes" )/(24*60))+1 ) ), or( empty(prop("Hours intervals")), prop("Hours intervals")<=dateBetween(now(), if( empty(prop("Last done time")), parseDate("2000-01-01"), prop("Last done time") ) ,"hours") ), if( empty(prop("Last skipped time")), true, prop("Last skipped time")<prop("Configuration database").first().prop("Current day start") ) ) )